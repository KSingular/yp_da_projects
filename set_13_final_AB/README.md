# Анализ базы данных сервиса для чтения книг по подписке

## [Ссылка на проект в nbviewer](https://nbviewer.org/github/KSingular/yp_da_projects/blob/bffb90c94861f1ff4f89cb3c457ec9e71abbb42f/set_13_final_AB/set_13_final_AB.ipynb)

## Описание
**Цель** - провести оценку результатов A/B-теста. 

---
**Задачи:**
1. Оценить корректность проведения теста:
    * проверить пересечение тестовой аудитории с конкурирующим тестом,
    * совпадение теста и маркетинговых событий, другие проблемы временных границ теста. 
2. Проанализировать результаты теста.

## Выводы 
Было проведено исследование, основной целью которого являлась оценка результатов A/B-теста, проводимого в связи с внедрением улучшенной рекомендательной системы.

На этапе оценки корректности проведения теста было определено:
* Неравное разделение пользователей, зарегистрировавшихся в период с 7 декабря по 21 декабря на контрольную группу "А" и группу сравнения "B".
* Отсутствие 45,3% от запланированного количества данных - за период с 30 декабря 2020 года по 4 января 2021 года.
* Не были достигнуты целевые значения объема выборки в 6000 пользователей и 15% новых пользователей из региона EU. Фактические значения, с учетом отсутствующих данных, составили 2788 пользователей и 6,1% новых пользователей из региона EU.
* Пересечение времени проведения теста с маркетинговыми событиями - промо-акцией, приуроченной к Рождеству и Новому году, для пользователей из европейского региона и региона Северной Америки, а в странах СНГ с новогодней лотерей подарков.

Выявленные факты способны оказать значительное влияние на результаты A/B-теста, что делает их интерпретацию затрудительной и подвергает сомнению достоверность.

Исследовательский анализ данных показал увеличение активности пользователей перед Рождеством и ее уменьшение к Новому году, что объясняется поиском и покупкой подарков к этим событиям.

После авторизации на страницу с товаром заходили 65,3% пользователей в группе контроля "А" и 56,3% в группе сравнения "В". В корзину зашли 30,3% пользователей из группы конроля "А" и 27,7% из группы сравнения "В". Совершили покупку в группе контроля "А" 31,3% пользователей, в группе сравнения "В" 28,1% пользователей.

Магазин имеет достаточно гибкую систему перехода к оплате товара, что удобно для пользователей. Только небольшая часть пользователей, совершивших покупку, прошли все четыре этапа - авторизацию, изучение страницы товара, переход в корзину и оплату покупки. Пользователи совершали покупку одномоментно с авторизацией, непосредственно после изучения страницы с товаром или, минуя этап изучения страницы с товаром, преходили в корзину и совершали транзакцию. Таким образом, единственным обязательным действием для пользователей была авторизация.

Проведенный статистичекий z-test для пропорций показал, что в группе сравнения "В" пользователи статистически значимо (p-value=0,000, мощность теста - 90%) осуществляли на 9% меньше переходов на страницу с товаром, чем в контрольной группе "А". Процент переходов в корзину статистически незначимо на 2,6% ниже в группе сравнения "В" (p-value=0,183), чем в контрольной группе "А". Процент пользователей совершивших покупку также статистически незначимо на 3,3% ниже в группе сравнения "В" (p-value=0,107), чем в контрольной группе "А". 

Несмотря на простоту совершения покупки, кумулятивный средний чек в группе контроля "А" на протяжении всего исследования был выше, чем в группе сравнения "В". На 29 декабря 2020 года средний чек в контрольной группе "А" был выше среднего чека в группе сравнения "В" на 0,01$.

Оценка конверсии авторизованных пользователей в пользователей совершивших покупку с самого начала исследования в группе сравнения "В" уменьшалась относительно контрольной группы "А". На 29 декабря 2020 года конверсия авторизованных пользователей в пользователей совершивших покупку в группе сравнения "B" на 1,6% ниже, чем в контрольной группе "А".

В заключении, стоит отметить, что несмотря на неудачно выбранный период проведения A/B-теста, были получены важные сведения. На фоне активного притока пользователей, связанного с праздничными покупками, внедренная рекомендательная система себя не оправдала и досрочное прерывание теста вероятно является обоснованным. 

## Используемые библиотеки
`Pandas` `NumPy` `os` `Seaborn` `Plotly` `statsmodels / proportions_ztest` `statsmodels / zt_ind_solve_power`

## Ключевые слова
`А/B-тестирование` `воронка событий` `мощность z-test` `размера эффекта`